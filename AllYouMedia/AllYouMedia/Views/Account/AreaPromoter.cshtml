@using AllYouMedia.Models
@model RegisterModel

@{
    ViewBag.Title = "Area Promoter Registration";
    Layout = "~/Views/Shared/_GuestLayout.cshtml";
}
<script src="~/Scripts/jquery-1.10.2.js"></script>
<link href="~/Content/sweetalert.css" rel="stylesheet" />
<script src="~/Scripts/sweetalert-dev.js"></script>
<section id="Register" class="main-content-area">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="checkout-main-area">
                    <div class="panel-group greentech-panel-group greentech-panel-icon" id="greentechaccordion">
                        <div class="greentech-panel panel panel-default">
                            <div id="collapseOne" class="panel-collapse collapse in">
                                <div class="panel-body greentech-panel-body">
                                    <div class="checkout-method">
                                        <div class="row">
                                            <div class="row">
                                                <div class="method-right col-xs-12 col-sm-12">
                                                    <h2>Register for Area Promoter</h2>
                                                    <br />
                                                    <div id="divRegistrationInfo" class="row">
                                                        <div class="col-xs-12 col-sm-6 col-md-4">
                                                            <div class="form-group">
                                                                <label>Area Promoter Code<sup>*</sup></label>
                                                                @Html.TextBoxFor(m => m.AreaPromoterCode, new { @id = "AreaPromoterCode", @class = "form-control", placeholder = "Enter Code" })
                                                                <span id="E_Code" class = "validation"></span>
                                                            </div>
                                                            <div class="">
                                                                <input type="button" value="Submit" id="Submit" class="add-tag-btn" />
                                                            </div>
                                                        </div>

                                                    </div>
                                                    @using (Ajax.BeginForm("AreaPromoter", "Account", new AjaxOptions { HttpMethod = "POST", UpdateTargetId = "divAreaPromoter" }))
                                                    {
                                                        <div class="clearfix"></div><br />
                                                        <div id="divAreaPromoter" class="hidden">
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    @Html.HiddenFor(m => m.hdnRoleName, new { @id = "hdnRoleName" })
                                                                </div>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Full Name<sup>*</sup></label>
                                                                    @Html.TextBoxFor(model => model.UserName, new { @class = "form-control", placeholder = "Enter Name", maxlength = "50" })
                                                                    @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "validation" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Email<sup>*</sup></label>
                                                                    @Html.TextBoxFor(model => model.Email, new { @class = "form-control", placeholder = "Enter Email", maxlength = "50" })
                                                                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "validation" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Mobile<sup>*</sup></label>
                                                                    @Html.TextBoxFor(model => model.Mobile, new { @class = "form-control", placeholder = "Enter Mobile", maxlength = "20" })
                                                                    @Html.ValidationMessageFor(model => model.Mobile, "", new { @class = "validation" })
                                                                </div>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Country<sup>*</sup></label>
                                                                    @Html.DropDownListFor(model => model.Country, new SelectList(Model.Country, "Value", "Text"), new { @class = "form-control" })
                                                                    @Html.ValidationMessageFor(model => model.Country, "", new { @class = "validation" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>State<sup>*</sup></label>
                                                                    @Html.DropDownListFor(model => model.State, new SelectList(Model.State, "Value", "Text"), new { @class = "form-control" })
                                                                    @Html.ValidationMessageFor(model => model.State, "", new { @class = "validation" })
                                                                </div>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>City<sup>*</sup></label>
                                                                    @Html.TextBoxFor(model => model.City, new { @class = "form-control", placeholder = "Enter City", maxlength = "50" })
                                                                    @Html.ValidationMessageFor(model => model.City, "", new { @class = "validation" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Address<sup>*</sup></label>
                                                                    @Html.TextBoxFor(model => model.Address, new { @class = "form-control", placeholder = "Enter Address" })
                                                                    @Html.ValidationMessageFor(model => model.Address, "", new { @class = "validation" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Zip Code<sup>*</sup></label>
                                                                    @Html.TextBoxFor(model => model.ZipCode, new { @class = "form-control", placeholder = "Enter ZipCode", maxlength = "8" })
                                                                    @Html.ValidationMessageFor(model => model.ZipCode, "", new { @class = "validation" })
                                                                </div>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Recruiter ID</label>
                                                                    @Html.TextBoxFor(model => model.SponsorID, new { @class = "form-control", placeholder = "Enter Recruiter ID", maxlength = "50" })
                                                                </div>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                            <div id="" class="">
                                                                <div class="col-md-4 col-sm-12 col-xs-12">
                                                                    <div class="form-group">
                                                                        <label>College</label>
                                                                        @Html.TextBoxFor(model => model.College, new { @class = "form-control", placeholder = "Enter College", maxlength = "100" })
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-4 col-sm-12 col-xs-12">
                                                                    <div class="form-group">
                                                                        <label>Major</label>
                                                                        @Html.DropDownListFor(model => model.Major, new SelectList(Model.Major, "Value", "Text"), new { @id = "Major", @class = "form-control" })
                                                                    </div>
                                                                </div>
                                                                <div id="MajorOther" class="col-md-4 col-sm-12 col-xs-12 hidden">
                                                                    <div class="form-group">
                                                                        <label>Major Other</label>
                                                                        @Html.TextBoxFor(model => model.Major_Other, new { @id = "Major_Other", @class = "form-control", placeholder = "Enter Other Major", maxlength = "50" })
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Password<sup>*</sup></label>
                                                                    @Html.PasswordFor(model => model.Password, new { @class = "form-control", placeholder = "Enter Password", maxlength = "50" })
                                                                    @Html.ValidationMessageFor(model => model.Password, "", new { @class = "validation" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Confirm Password<sup>*</sup></label>
                                                                    @Html.PasswordFor(model => model.ConfirmPassword, new { @class = "form-control", placeholder = "Confirm Password", maxlength = "50" })
                                                                    @Html.ValidationMessageFor(model => model.ConfirmPassword, "", new { @class = "validation" })
                                                                </div>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                            <div class="col-md-12 col-sm-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Bio Description</label>
                                                                    @Html.TextAreaFor(model => model.BioDescription, new { @class = "form-control", placeholder = "Enter Bio Description", maxlength = "50" })
                                                                    @Html.ValidationMessageFor(model => model.BioDescription, "", new { @class = "validation" })
                                                                </div>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                            <div class="col-md-12 col-xs-12">
                                                                <div class="form-group">
                                                                    <label>Accept Tems & Conditions<sup>*</sup></label><br />
                                                                    <input type="checkbox" id="TermsCoditions" name="chkBoxT" />
                                                                    <label>I have reviewed and I agree with the Terms and conditions of the <a href="@Url.Action("AreaPromoterAgreement","Home")" target="_blank">Area Promoter</a>  Agreement</label>
                                                                </div>
                                                            </div>
                                                            <div class="clearfix"></div>
                                                            <div class="col-xs-12 col-sm-6">
                                                                <div class="block-button-right">
                                                                    <input type="submit" value="Register" class="add-tag-btn" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script src="~/Scripts/jquery-1.10.2.js"></script>
<script src="~/Scripts/jquery.validate-vsdoc.js"></script>
<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#Country").change(function () {
            $("#State").empty();
            $.ajax({
                type: 'POST',
                url: '@Url.Action("GetStates", "Account")',
                dataType: 'json',
                data: { uid: $("#Country").val() },
                success: function (states) {
                    $.each(states, function (i, state) {
                        $("#State").append('<option value="' + state.Value + '">' +
                            state.Text + '</option>');
                    });
                }, error: function (ex) { $("#State").append('<option value="' + "" + '">' + "<< Select State>>" + '</option>'); }
            }); return false;
        })
    });
    $(document).ready(function () {
        $("#Major").change(function () {
            var Major = $("#Major").val();
            if (Major == "Other") {
                $("#MajorOther").removeClass("hidden");
            }
            else {
                $("#MajorOther").addClass("hidden");
            }
        })
    });
</script>
<script>
    $(document).on('click', '#Submit', function () {
        var AreaPromoterCode = $("#AreaPromoterCode").val();     
        if (AreaPromoterCode == "") {          
            $("#E_Code").append("Please enter code first!");
            return false;
        }      
        $.ajax({
            type: 'POST',
            url: '@Url.Action("AreaPromoterCodeCheck", "Account")',
            data: { Code: AreaPromoterCode },
            datatype: 'json',
            success: function (data) {
                if (data.flag == "1") {
                    $('#hdnRoleName').val(AreaPromoterCode);
                    $("#divAreaPromoter").removeClass("hidden");
                    $("#divRegistrationInfo").addClass("hidden");
                }
                else if (data.flag == "0") {                  
                    swal("Ooops!", data.msg, "error");                    
                    $("#divAreaPromoter").addClass("hidden");
                    $("#divRegistrationInfo").removeClass("hidden");
                }
            },
            error: function () {
                alert("Content load failed.");
            }
        });
    });
</script>
